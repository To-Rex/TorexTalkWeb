import{r as n,j as e}from"./ui-E7op3xd6.js";import{u as b,p,B as t}from"./index-DGb-t3le.js";import"./vendor-Bs7gn1Hv.js";import"./query-28qq_-a4.js";import"./router-pxkjurEI.js";import"./motion-wg93wq_x.js";function q(){const{user:i,updateUser:h,addToBlocklist:u,removeFromBlocklist:v}=b(),{locale:l,setLocale:d,t:N}=p(),[o,r]=n.useState([]),[c,m]=n.useState("");if(n.useEffect(()=>{if(!i)return;const s=localStorage.getItem(`tt_sessions_${i.email}`);if(s)r(JSON.parse(s));else{const a=[{id:"s1",device:"Chrome - Desktop",last:Date.now()-36e5},{id:"s2",device:"Mobile - Android",last:Date.now()-18e5}];localStorage.setItem(`tt_sessions_${i.email}`,JSON.stringify(a)),r(a)}},[i]),!i)return e.jsx("div",{className:"py-10 px-6",children:"Iltimos tizimga kiring"});const x=s=>{h(a=>({...a,settings:{...a.settings??{},[s]:!a.settings?.[s]}}))},j=s=>{const a=o.filter(f=>f.id!==s);r(a),localStorage.setItem(`tt_sessions_${i.email}`,JSON.stringify(a))},g=()=>{localStorage.removeItem(`tt_qas_${i.email}`),localStorage.removeItem(`tt_templates_${i.email}`),alert("AI xotiri tozalandi")};return e.jsxs("div",{className:"py-8 px-6",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Sozlamalar"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-xl border p-4 bg-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"AI avtomatik javob (Guruhlar)"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Guruhlardagi avtomatik javoblarni boshqaring"})]}),e.jsx("div",{children:e.jsx(t,{variant:i.settings?.aiForGroups?"default":"outline",onClick:()=>x("aiForGroups"),children:i.settings?.aiForGroups?"O‘chirish":"Yoqish"})})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-xl border p-4 bg-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"AI avtomatik javob (Shaxsiy)"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Shaxsiy chatlar uchun avtomatik javoblarni boshqaring"})]}),e.jsx("div",{children:e.jsx(t,{variant:i.settings?.aiForPrivate?"default":"outline",onClick:()=>x("aiForPrivate"),children:i.settings?.aiForPrivate?"O‘chirish":"Yoqish"})})]}),e.jsxs("div",{className:"rounded-xl border p-4 bg-card",children:[e.jsx("div",{className:"font-medium mb-2",children:"Mass xabar blocklist"}),e.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"Bu ro‘yxatdagi shaxsiy chat foydalanuvchilariga mass xabar yuborilmaydi."}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("input",{value:c,onChange:s=>m(s.target.value),placeholder:"Foydalanuvchi nomi",className:"flex-1 rounded-md bg-secondary px-3 py-2 text-sm"}),e.jsx(t,{onClick:()=>{const s=c.trim();s&&(u(s),m(""))},children:"Qo‘shish"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(i.blocklist??[]).length===0?e.jsx("div",{className:"text-xs text-muted-foreground",children:"Ro‘yxat bo‘sh."}):(i.blocklist??[]).map(s=>e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs",children:[s,e.jsx("button",{onClick:()=>v(s),className:"text-muted-foreground hover:text-foreground","aria-label":`Olib tashlash: ${s}`,children:"×"})]},s))})]}),e.jsxs("div",{className:"rounded-xl border p-4 bg-card",children:[e.jsx("div",{className:"font-medium mb-2",children:"Til"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{variant:l==="uz"?"default":"outline",onClick:()=>d("uz"),children:"O'zbek"}),e.jsx(t,{variant:l==="en"?"default":"outline",onClick:()=>d("en"),children:"English"}),e.jsx(t,{variant:l==="ru"?"default":"outline",onClick:()=>d("ru"),children:"Русский"})]})]}),e.jsxs("div",{className:"rounded-xl border p-4 bg-card",children:[e.jsx("div",{className:"font-medium mb-2",children:"Xotirani boshqarish"}),e.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"AI xotirasi va shablonlarni tozalash"}),e.jsx("div",{className:"flex gap-2",children:e.jsx(t,{variant:"destructive",onClick:g,children:"Xotirani tozalash"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-xl border p-4 bg-card",children:[e.jsx("div",{className:"font-medium mb-2",children:"Seanslar"}),e.jsx("div",{className:"space-y-2",children:o.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.device}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Oxirgi faollik: ",new Date(s.last).toLocaleString()]})]}),e.jsx("div",{children:e.jsx(t,{variant:"outline",onClick:()=>j(s.id),children:"Bekor qilish"})})]},s.id))})]}),e.jsxs("div",{className:"rounded-xl border p-4 bg-card",children:[e.jsx("div",{className:"font-medium mb-2",children:"Sessiyalarni boshqarish"}),e.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"Hamma seanslarni bekor qilish"}),e.jsx("div",{className:"flex gap-2",children:e.jsx(t,{variant:"destructive",onClick:()=>{r([]),localStorage.removeItem(`tt_sessions_${i.email}`)},children:"Hamma seanslarni o'chirish"})})]})]})]})]})}export{q as default};
