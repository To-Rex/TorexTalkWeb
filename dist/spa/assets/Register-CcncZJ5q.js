import{r as s,j as e}from"./ui-E7op3xd6.js";import{u as R,L as y}from"./router-pxkjurEI.js";import{p as q,u as A,B as l}from"./index-DGb-t3le.js";import{C as z,a as D,b as O,c as G,d as L,E as T,e as B,f as H,g as I,A as U,F as _,G as X,h as Y}from"./card-nkPSPQWE.js";import{m as c}from"./motion-wg93wq_x.js";import"./vendor-Bs7gn1Hv.js";import"./query-28qq_-a4.js";const g={hidden:{opacity:0,y:16},show:(f=0)=>({opacity:1,y:0,transition:{delay:f*.06,duration:.5}})};function se(){const{t:f}=q(),{register:w,oauthSignIn:k}=A(),j=R(),[p,C]=s.useState(""),[v,E]=s.useState(""),[N,r]=s.useState(null),[t,S]=s.useState(!1),[b,M]=s.useState(!1),[o,d]=s.useState(!1),[n,$]=s.useState({x:50,y:50}),m=s.useRef({x:50,y:50});s.useEffect(()=>{const a=i=>{const x=document.body.getBoundingClientRect();m.current.x=(i.clientX-x.left)/x.width*100,m.current.y=(i.clientY-x.top)/x.height*100},h=()=>{$(i=>({x:i.x+(m.current.x-i.x)*.05,y:i.y+(m.current.y-i.y)*.05})),requestAnimationFrame(h)};return window.matchMedia("(prefers-reduced-motion: reduce)").matches||(h(),window.addEventListener("mousemove",a)),()=>window.removeEventListener("mousemove",a)},[]);const F=()=>t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p)?v.length<6?(r("Parol kamida 6 ta belgidan iborat bo'lishi kerak"),!1):(r(null),!0):(r("Email noto'g'ri formatda"),!1):(r("Davom etishdan oldin Oferta va Maxfiylik siyosatiga rozilik bering"),!1),P=async a=>{if(a.preventDefault(),!F())return;d(!0);const h=await w(p,v);if(d(!1),!h)return r("Email allaqachon mavjud");j("/app")},u=async a=>{if(!t){r("Davom etishdan oldin Oferta va Maxfiylik siyosatiga rozilik bering");return}r(null),d(!0),await k(a,{email:`${a}_${Math.random().toString(36).slice(2)}@torex.com`,name:`${a[0].toUpperCase()}${a.slice(1)} User`}),d(!1),j("/app")};return e.jsx("div",{className:"bg-gradient-to-b from-background to-secondary/20",style:{background:`radial-gradient(circle at ${n.x}% ${n.y}%, hsl(var(--primary) / 0.1) 0%, transparent 50%), radial-gradient(circle at ${n.x+30}% ${n.y-30}%, hsl(var(--accent) / 0.1) 0%, transparent 50%), radial-gradient(circle at ${n.x-30}% ${n.y+30}%, hsl(var(--secondary) / 0.1) 0%, transparent 50%), linear-gradient(135deg, hsl(var(--background)) 0%, hsl(var(--secondary) / 0.2) 100%)`},children:e.jsx("section",{className:"container py-10 sm:py-16 min-h-[calc(100vh-3.5rem)] flex items-center",children:e.jsx(c.div,{initial:"hidden",animate:"show",className:"mx-auto max-w-lg",children:e.jsxs(z,{className:"overflow-hidden border-0 shadow-lg shadow-primary/10",children:[e.jsxs(D,{className:"text-center pb-2",children:[e.jsx(c.div,{variants:g,className:"mx-auto h-12 w-12 rounded-lg bg-primary/15 text-primary flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"TT"})}),e.jsxs(c.div,{variants:g,custom:1,children:[e.jsx(O,{className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-gradient-to-r from-foreground to-primary bg-clip-text text-transparent",children:"Ro'yxatdan o'tish"}),e.jsx(G,{className:"mt-1 text-muted-foreground",children:"Tez ro'yxatdan o'ting yoki ijtimoiy tarmoqlar orqali davom eting"})]})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs(c.form,{onSubmit:P,className:"space-y-3",variants:g,custom:2,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Email"}),e.jsx("input",{value:p,onChange:a=>C(a.target.value),placeholder:"email@domain.com",className:"w-full rounded-md bg-secondary px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Parol"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:b?"text":"password",value:v,onChange:a=>E(a.target.value),placeholder:"••••••••",className:"w-full rounded-md bg-secondary px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-primary"}),e.jsx("button",{type:"button","aria-label":b?"Parolni yashirish":"Parolni ko'rsatish",className:"absolute inset-y-0 right-0 px-3 text-muted-foreground hover:text-foreground",onClick:()=>M(a=>!a),children:b?e.jsx(T,{className:"h-4 w-4"}):e.jsx(B,{className:"h-4 w-4"})})]})]}),N?e.jsx("div",{className:"text-sm text-destructive",children:N}):null,e.jsxs("div",{className:"flex items-start gap-2 pt-1",children:[e.jsx(H,{id:"accept",checked:t,onCheckedChange:a=>S(!!a)}),e.jsxs("label",{htmlFor:"accept",className:"text-xs leading-5 text-muted-foreground",children:["Men ",e.jsx(y,{to:"/terms",className:"underline",children:"Oferta"})," va "," ",e.jsx(y,{to:"/privacy",className:"underline",children:"Maxfiylik siyosati"})," shartlariga roziman"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-1",children:[e.jsx(l,{type:"submit",disabled:!t||o,children:"Ro'yxatdan o'tish"}),e.jsx(y,{to:"/login",className:"text-sm text-muted-foreground underline",children:f("sign_in")})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":!0,children:e.jsx("div",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"yoki"})})]}),e.jsxs(c.div,{variants:g,custom:3,className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs(l,{variant:"outline",className:"w-full transition-all hover:scale-[1.02] hover:bg-[#4285F4]/15 hover:text-foreground/90 hover:border-[#4285F4]/30",disabled:!t||o,onClick:()=>u("google"),children:[e.jsx(I,{className:"mr-2 h-4 w-4"})," Google bilan"]}),e.jsxs(l,{variant:"outline",className:"w-full transition-all hover:scale-[1.02] hover:bg-black/10 dark:hover:bg-white/10 hover:text-foreground/90 hover:border-foreground/20",disabled:!t||o,onClick:()=>u("apple"),children:[e.jsx(U,{className:"mr-2 h-4 w-4"})," Apple bilan"]}),e.jsxs(l,{variant:"outline",className:"w-full transition-all hover:scale-[1.02] hover:bg-[#1877F2]/15 hover:text-foreground/90 hover:border-[#1877F2]/30",disabled:!t||o,onClick:()=>u("facebook"),children:[e.jsx(_,{className:"mr-2 h-4 w-4"})," Facebook bilan"]}),e.jsxs(l,{variant:"outline",className:"w-full transition-all hover:scale-[1.02] hover:bg-black/10 dark:hover:bg-white/10 hover:text-foreground/90 hover:border-foreground/20",disabled:!t||o,onClick:()=>u("github"),children:[e.jsx(X,{className:"mr-2 h-4 w-4"})," GitHub bilan"]})]})]}),e.jsx(Y,{className:"justify-center text-xs text-muted-foreground",children:"Davom etish orqali siz yuqoridagi shartlarni qabul qilgan bo'lasiz"})]})})})})}export{se as default};
